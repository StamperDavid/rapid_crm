<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Editor - Sports Funder</title>
    <script src="/static/theme-manager.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-variant) 100%);
            border: 1px solid var(--color-border);
            color: var(--color-text);
            padding: 32px;
            text-align: center;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 32px;
        }

        .header h1 {
            color: var(--color-text);
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        .back-btn {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            transform: translateY(-2px);
        }

        .theme-editor {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .editor-panel {
            background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-variant) 100%);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .editor-panel h3 {
            color: var(--color-text);
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: var(--color-text);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--color-border-variant);
            border-radius: 8px;
            background: var(--color-surface);
            color: var(--color-text);
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-picker input[type="color"] {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .color-picker input[type="text"] {
            flex: 1;
        }

        .preview-panel {
            background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-variant) 100%);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .preview-panel h3 {
            color: var(--color-text);
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 10px;
        }

        .preview-card {
            background: var(--color-surface-variant);
            border: 1px solid var(--color-border-variant);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .preview-card h4 {
            color: var(--color-text);
            margin-bottom: 10px;
        }

        .preview-card p {
            color: var(--color-text-secondary);
            margin-bottom: 15px;
        }

        .preview-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            background: linear-gradient(135deg, var(--color-primary), #1d4ed8);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--color-secondary), #059669);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280, #4b5563);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .actions-panel {
            background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-variant) 100%);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .actions-panel h3 {
            color: var(--color-text);
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 10px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .theme-presets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .preset-card {
            background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-variant) 100%);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preset-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .preset-card h4 {
            color: var(--color-text);
            margin-bottom: 10px;
        }

        .preset-card p {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        .preset-preview {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .preset-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid var(--color-border);
        }

        @media (max-width: 768px) {
            .theme-editor {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-btn">‚Üê Back to Home</a>
        
        <div class="header">
            <h1>üé® Theme Editor</h1>
            <p>Customize the look and feel of your Sports Funder application</p>
        </div>

        <!-- Theme Presets -->
        <div class="theme-presets">
            <div class="preset-card" onclick="applyPreset('oldGloryDark')">
                <h4>Old Glory Dark</h4>
                <p>Patriotic dark theme with red, white, and blue accents</p>
                <div class="preset-preview">
                    <div class="preset-color" style="background: #0f172a;"></div>
                    <div class="preset-color" style="background: #1e293b;"></div>
                    <div class="preset-color" style="background: #3b82f6;"></div>
                    <div class="preset-color" style="background: #ef4444;"></div>
                </div>
            </div>
            
            <div class="preset-card" onclick="applyPreset('oldGloryLight')">
                <h4>Old Glory Light</h4>
                <p>Patriotic light theme with red, white, and blue accents</p>
                <div class="preset-preview">
                    <div class="preset-color" style="background: #ffffff;"></div>
                    <div class="preset-color" style="background: #f8fafc;"></div>
                    <div class="preset-color" style="background: #3b82f6;"></div>
                    <div class="preset-color" style="background: #ef4444;"></div>
                </div>
            </div>
            
            <div class="preset-card" onclick="applyPreset('modernDark')">
                <h4>Modern Dark</h4>
                <p>Clean modern dark theme with subtle gradients</p>
                <div class="preset-preview">
                    <div class="preset-color" style="background: #0f172a;"></div>
                    <div class="preset-color" style="background: #1e293b;"></div>
                    <div class="preset-color" style="background: #10b981;"></div>
                    <div class="preset-color" style="background: #f59e0b;"></div>
                </div>
            </div>
            
            <div class="preset-card" onclick="applyPreset('corporate')">
                <h4>Corporate</h4>
                <p>Professional corporate theme with blue and gray tones</p>
                <div class="preset-preview">
                    <div class="preset-color" style="background: #1e293b;"></div>
                    <div class="preset-color" style="background: #334155;"></div>
                    <div class="preset-color" style="background: #3b82f6;"></div>
                    <div class="preset-color" style="background: #6b7280;"></div>
                </div>
            </div>
        </div>

        <!-- Theme Editor -->
        <div class="theme-editor">
            <!-- Color Editor -->
            <div class="editor-panel">
                <h3>üé® Colors</h3>
                
                <div class="form-group">
                    <label>Primary Color</label>
                    <div class="color-picker">
                        <input type="color" id="primaryColor" value="#3b82f6" onchange="updateColor('primary', this.value)">
                        <input type="text" id="primaryColorText" value="#3b82f6" onchange="updateColor('primary', this.value)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Secondary Color</label>
                    <div class="color-picker">
                        <input type="color" id="secondaryColor" value="#10b981" onchange="updateColor('secondary', this.value)">
                        <input type="text" id="secondaryColorText" value="#10b981" onchange="updateColor('secondary', this.value)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Accent Color</label>
                    <div class="color-picker">
                        <input type="color" id="accentColor" value="#f59e0b" onchange="updateColor('accent', this.value)">
                        <input type="text" id="accentColorText" value="#f59e0b" onchange="updateColor('accent', this.value)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Background Color</label>
                    <div class="color-picker">
                        <input type="color" id="backgroundColor" value="#0f172a" onchange="updateColor('background', this.value)">
                        <input type="text" id="backgroundColorText" value="#0f172a" onchange="updateColor('background', this.value)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Surface Color</label>
                    <div class="color-picker">
                        <input type="color" id="surfaceColor" value="#1e293b" onchange="updateColor('surface', this.value)">
                        <input type="text" id="surfaceColorText" value="#1e293b" onchange="updateColor('surface', this.value)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Text Color</label>
                    <div class="color-picker">
                        <input type="color" id="textColor" value="#f8fafc" onchange="updateColor('text', this.value)">
                        <input type="text" id="textColorText" value="#f8fafc" onchange="updateColor('text', this.value)">
                    </div>
                </div>
            </div>

            <!-- Typography Editor -->
            <div class="editor-panel">
                <h3>üìù Typography</h3>
                
                <div class="form-group">
                    <label>Font Family</label>
                    <select id="fontFamily" onchange="updateTypography('fontFamily', this.value)">
                        <option value='-apple-system, BlinkMacSystemFont, "Segoe UI", "Inter", "Roboto", sans-serif'>System Fonts</option>
                        <option value='"Inter", sans-serif'>Inter</option>
                        <option value='"Roboto", sans-serif'>Roboto</option>
                        <option value='"Open Sans", sans-serif'>Open Sans</option>
                        <option value='"Lato", sans-serif'>Lato</option>
                        <option value='"Montserrat", sans-serif'>Montserrat</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Base Font Size</label>
                    <select id="baseFontSize" onchange="updateTypography('baseFontSize', this.value)">
                        <option value="0.875rem">Small (14px)</option>
                        <option value="1rem" selected>Medium (16px)</option>
                        <option value="1.125rem">Large (18px)</option>
                        <option value="1.25rem">Extra Large (20px)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Heading Font Size</label>
                    <select id="headingFontSize" onchange="updateTypography('headingFontSize', this.value)">
                        <option value="1.5rem">Small (24px)</option>
                        <option value="1.875rem" selected>Medium (30px)</option>
                        <option value="2.25rem">Large (36px)</option>
                        <option value="2.5rem">Extra Large (40px)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <h3>üëÅÔ∏è Live Preview</h3>
            <div class="preview-card">
                <h4>Sample Card Title</h4>
                <p>This is a preview of how your theme will look. Changes are applied in real-time as you adjust the settings above.</p>
                <div class="preview-buttons">
                    <button class="btn">Primary Button</button>
                    <button class="btn btn-success">Success Button</button>
                    <button class="btn btn-secondary">Secondary Button</button>
                    <button class="btn btn-danger">Danger Button</button>
                </div>
            </div>
        </div>

        <!-- Actions Panel -->
        <div class="actions-panel">
            <h3>‚öôÔ∏è Actions</h3>
            <div class="actions-grid">
                <button class="btn" onclick="saveTheme()">üíæ Save Theme</button>
                <button class="btn btn-secondary" onclick="resetTheme()">üîÑ Reset to Default</button>
                <button class="btn btn-success" onclick="exportTheme()">üì§ Export Theme</button>
                <button class="btn" onclick="importTheme()">üì• Import Theme</button>
                <button class="btn btn-danger" onclick="clearTheme()">üóëÔ∏è Clear Theme</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize theme editor
        document.addEventListener('DOMContentLoaded', function() {
            loadCurrentTheme();
        });

        function loadCurrentTheme() {
            const theme = window.themeManager.getCurrentTheme();
            
            // Load colors
            document.getElementById('primaryColor').value = theme.colors.primary;
            document.getElementById('primaryColorText').value = theme.colors.primary;
            document.getElementById('secondaryColor').value = theme.colors.secondary;
            document.getElementById('secondaryColorText').value = theme.colors.secondary;
            document.getElementById('accentColor').value = theme.colors.accent;
            document.getElementById('accentColorText').value = theme.colors.accent;
            document.getElementById('backgroundColor').value = theme.colors.background;
            document.getElementById('backgroundColorText').value = theme.colors.background;
            document.getElementById('surfaceColor').value = theme.colors.surface;
            document.getElementById('surfaceColorText').value = theme.colors.surface;
            document.getElementById('textColor').value = theme.colors.text;
            document.getElementById('textColorText').value = theme.colors.text;
            
            // Load typography
            document.getElementById('fontFamily').value = theme.typography.fontFamily;
            document.getElementById('baseFontSize').value = theme.typography.fontSize.base;
            document.getElementById('headingFontSize').value = theme.typography.fontSize['3xl'];
        }

        function updateColor(colorKey, value) {
            // Update both color picker and text input
            document.getElementById(colorKey + 'Color').value = value;
            document.getElementById(colorKey + 'ColorText').value = value;
            
            // Update theme
            const theme = window.themeManager.getCurrentTheme();
            theme.colors[colorKey] = value;
            window.themeManager.updateTheme(theme);
        }

        function updateTypography(typographyKey, value) {
            const theme = window.themeManager.getCurrentTheme();
            
            if (typographyKey === 'fontFamily') {
                theme.typography.fontFamily = value;
            } else if (typographyKey === 'baseFontSize') {
                theme.typography.fontSize.base = value;
            } else if (typographyKey === 'headingFontSize') {
                theme.typography.fontSize['3xl'] = value;
            }
            
            window.themeManager.updateTheme(theme);
        }

        function applyPreset(presetName) {
            const presets = {
                oldGloryDark: {
                    name: 'Old Glory Dark',
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#f59e0b',
                        background: '#0f172a',
                        surface: '#1e293b',
                        surfaceVariant: '#334155',
                        text: '#f8fafc',
                        textSecondary: '#94a3b8',
                        border: '#334155',
                        borderVariant: '#475569'
                    }
                },
                oldGloryLight: {
                    name: 'Old Glory Light',
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#f59e0b',
                        background: '#ffffff',
                        surface: '#f8fafc',
                        surfaceVariant: '#e2e8f0',
                        text: '#1e293b',
                        textSecondary: '#64748b',
                        border: '#e2e8f0',
                        borderVariant: '#cbd5e1'
                    }
                },
                modernDark: {
                    name: 'Modern Dark',
                    colors: {
                        primary: '#10b981',
                        secondary: '#f59e0b',
                        accent: '#8b5cf6',
                        background: '#0f172a',
                        surface: '#1e293b',
                        surfaceVariant: '#334155',
                        text: '#f8fafc',
                        textSecondary: '#94a3b8',
                        border: '#334155',
                        borderVariant: '#475569'
                    }
                },
                corporate: {
                    name: 'Corporate',
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#6b7280',
                        accent: '#10b981',
                        background: '#1e293b',
                        surface: '#334155',
                        surfaceVariant: '#475569',
                        text: '#f8fafc',
                        textSecondary: '#94a3b8',
                        border: '#475569',
                        borderVariant: '#64748b'
                    }
                }
            };
            
            const preset = presets[presetName];
            if (preset) {
                window.themeManager.updateTheme(preset);
                loadCurrentTheme();
            }
        }

        function saveTheme() {
            const theme = window.themeManager.getCurrentTheme();
            window.themeManager.saveTheme(theme);
            alert('Theme saved successfully!');
        }

        function resetTheme() {
            if (confirm('Are you sure you want to reset to the default theme?')) {
                window.themeManager.resetToDefault();
                loadCurrentTheme();
            }
        }

        function exportTheme() {
            const theme = window.themeManager.exportTheme();
            const blob = new Blob([theme], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'sports-funder-theme.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function importTheme() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const success = window.themeManager.importTheme(e.target.result);
                        if (success) {
                            loadCurrentTheme();
                            alert('Theme imported successfully!');
                        } else {
                            alert('Invalid theme file!');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        function clearTheme() {
            if (confirm('Are you sure you want to clear the current theme? This will reset to default.')) {
                localStorage.removeItem('sportsFunderTheme');
                window.themeManager.resetToDefault();
                loadCurrentTheme();
            }
        }
    </script>
</body>
</html>