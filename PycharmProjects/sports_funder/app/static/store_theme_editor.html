<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Theme Editor - Sports Funder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', 'Roboto', sans-serif;
            background: #0f172a;
            color: #f8fafc;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            color: #f8fafc;
            padding: 32px;
            text-align: center;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 32px;
        }

        .header h1 {
            color: #f8fafc;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        .back-btn {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            transform: translateY(-2px);
        }

        .editor-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .editor-panel {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            max-height: 80vh;
            overflow-y: auto;
        }

        .editor-panel h3 {
            color: #f8fafc;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #f8fafc;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #475569;
            border-radius: 8px;
            background: #334155;
            color: #f8fafc;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-picker input[type="color"] {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .color-picker input[type="text"] {
            flex: 1;
        }

        .preview-panel {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
        }

        .preview-panel h3 {
            color: #f8fafc;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }

        .preview-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            min-height: 600px;
            overflow-y: auto;
        }

        .preview-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
        }

        .preview-logo {
            max-width: 200px;
            height: auto;
            margin-bottom: 15px;
        }

        .preview-hero {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 40px 20px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 30px;
        }

        .preview-hero h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .preview-hero p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .preview-cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }

        .preview-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview-btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .preview-btn-secondary {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .preview-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .preview-products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .preview-product {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .preview-product:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .preview-product img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 10px;
        }

        .preview-product h4 {
            margin-bottom: 8px;
            color: #1f2937;
        }

        .preview-product .price {
            font-size: 1.2rem;
            font-weight: 700;
            color: #059669;
            margin-bottom: 10px;
        }

        .preview-product .btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .actions-panel {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .actions-panel h3 {
            color: #f8fafc;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280, #4b5563);
        }

        .section-divider {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, transparent, #334155, transparent);
            margin: 30px 0;
        }

        .roi-tips {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .roi-tips h3 {
            color: #f8fafc;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 2px solid #10b981;
            padding-bottom: 10px;
        }

        .roi-tip {
            background: #334155;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
        }

        .roi-tip h4 {
            color: #10b981;
            margin-bottom: 8px;
        }

        .roi-tip p {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .editor-layout {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-btn">← Back to Home</a>
        
        <div class="header">
            <h1>🛍️ Store Theme Editor</h1>
            <p>Create high-converting team stores and landing pages that drive maximum ROI</p>
        </div>

        <!-- ROI Tips -->
        <div class="roi-tips">
            <h3>💰 Sales Optimization Tips</h3>
            <div class="roi-tip">
                <h4>🎯 Clear Call-to-Actions</h4>
                <p>Use contrasting colors for buttons and make them prominent. "Buy Now", "Add to Cart", and "Donate" should stand out.</p>
            </div>
            <div class="roi-tip">
                <h4>📱 Mobile-First Design</h4>
                <p>90% of your traffic will be mobile. Ensure buttons are large enough to tap easily and text is readable without zooming.</p>
            </div>
            <div class="roi-tip">
                <h4>⚡ Fast Loading</h4>
                <p>Optimize images and use web-safe fonts. Every second of load time can cost you 7% in conversions.</p>
            </div>
            <div class="roi-tip">
                <h4>🎨 Trust & Branding</h4>
                <p>Use school colors and logos prominently. People buy from brands they trust and recognize.</p>
            </div>
        </div>

        <!-- Editor Layout -->
        <div class="editor-layout">
            <!-- Left Panel - Theme Controls -->
            <div class="editor-panel">
                <h3>🎨 Brand Colors</h3>
                
                <div class="form-group">
                    <label>Primary Color (Main CTA buttons, headers)</label>
                    <div class="color-picker">
                        <input type="color" id="primaryColor" value="#3b82f6" onchange="updateTheme()">
                        <input type="text" id="primaryColorText" value="#3b82f6" onchange="updateTheme()">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Secondary Color (Secondary buttons, accents)</label>
                    <div class="color-picker">
                        <input type="color" id="secondaryColor" value="#10b981" onchange="updateTheme()">
                        <input type="text" id="secondaryColorText" value="#10b981" onchange="updateTheme()">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Accent Color (Highlights, special elements)</label>
                    <div class="color-picker">
                        <input type="color" id="accentColor" value="#f59e0b" onchange="updateTheme()">
                        <input type="text" id="accentColorText" value="#f59e0b" onchange="updateTheme()">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Background Color</label>
                    <div class="color-picker">
                        <input type="color" id="backgroundColor" value="#ffffff" onchange="updateTheme()">
                        <input type="text" id="backgroundColorText" value="#ffffff" onchange="updateTheme()">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Text Color</label>
                    <div class="color-picker">
                        <input type="color" id="textColor" value="#1f2937" onchange="updateTheme()">
                        <input type="text" id="textColorText" value="#1f2937" onchange="updateTheme()">
                    </div>
                </div>

                <hr class="section-divider">

                <h3>📝 Typography</h3>
                
                <div class="form-group">
                    <label>Font Family</label>
                    <select id="fontFamily" onchange="updateTheme()">
                        <option value='"Inter", sans-serif'>Inter (Modern, Clean)</option>
                        <option value='"Roboto", sans-serif'>Roboto (Google Font)</option>
                        <option value='"Open Sans", sans-serif'>Open Sans (Friendly)</option>
                        <option value='"Montserrat", sans-serif'>Montserrat (Bold, Impact)</option>
                        <option value='"Poppins", sans-serif'>Poppins (Rounded, Modern)</option>
                        <option value='"Lato", sans-serif'>Lato (Professional)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Heading Font Size</label>
                    <select id="headingSize" onchange="updateTheme()">
                        <option value="2rem">Small (32px)</option>
                        <option value="2.5rem" selected>Medium (40px)</option>
                        <option value="3rem">Large (48px)</option>
                        <option value="3.5rem">Extra Large (56px)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Body Font Size</label>
                    <select id="bodySize" onchange="updateTheme()">
                        <option value="0.875rem">Small (14px)</option>
                        <option value="1rem" selected>Medium (16px)</option>
                        <option value="1.125rem">Large (18px)</option>
                        <option value="1.25rem">Extra Large (20px)</option>
                    </select>
                </div>

                <hr class="section-divider">

                <h3>🖼️ Branding</h3>
                
                <div class="form-group">
                    <label>School Logo URL</label>
                    <input type="url" id="logoUrl" placeholder="https://example.com/logo.png" onchange="updateTheme()">
                </div>
                
                <div class="form-group">
                    <label>School Name</label>
                    <input type="text" id="schoolName" placeholder="Your School Name" onchange="updateTheme()">
                </div>
                
                <div class="form-group">
                    <label>Team Name</label>
                    <input type="text" id="teamName" placeholder="Your Team Name" onchange="updateTheme()">
                </div>
                
                <div class="form-group">
                    <label>Hero Background Image URL</label>
                    <input type="url" id="heroImage" placeholder="https://example.com/hero.jpg" onchange="updateTheme()">
                </div>

                <hr class="section-divider">

                <h3>🎯 Call-to-Action Settings</h3>
                
                <div class="form-group">
                    <label>Primary CTA Text</label>
                    <input type="text" id="primaryCTA" value="Shop Now" onchange="updateTheme()">
                </div>
                
                <div class="form-group">
                    <label>Secondary CTA Text</label>
                    <input type="text" id="secondaryCTA" value="Donate" onchange="updateTheme()">
                </div>
                
                <div class="form-group">
                    <label>Button Style</label>
                    <select id="buttonStyle" onchange="updateTheme()">
                        <option value="rounded">Rounded</option>
                        <option value="square">Square</option>
                        <option value="pill">Pill Shape</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Button Size</label>
                    <select id="buttonSize" onchange="updateTheme()">
                        <option value="small">Small</option>
                        <option value="medium" selected>Medium</option>
                        <option value="large">Large</option>
                        <option value="xlarge">Extra Large</option>
                    </select>
                </div>

                <hr class="section-divider">

                <h3>📱 Layout Settings</h3>
                
                <div class="form-group">
                    <label>Header Style</label>
                    <select id="headerStyle" onchange="updateTheme()">
                        <option value="centered">Centered</option>
                        <option value="left">Left Aligned</option>
                        <option value="split">Split (Logo Left, Nav Right)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Product Grid Columns</label>
                    <select id="productColumns" onchange="updateTheme()">
                        <option value="2">2 Columns</option>
                        <option value="3" selected>3 Columns</option>
                        <option value="4">4 Columns</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Show Product Prices</label>
                    <select id="showPrices" onchange="updateTheme()">
                        <option value="true" selected>Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Show "Add to Cart" Buttons</label>
                    <select id="showCartButtons" onchange="updateTheme()">
                        <option value="true" selected>Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
            </div>

            <!-- Right Panel - Live Preview -->
            <div class="preview-panel">
                <h3>👁️ Live Preview</h3>
                <div class="preview-container" id="previewContainer">
                    <!-- Preview content will be generated here -->
                </div>
            </div>
        </div>

        <!-- Actions Panel -->
        <div class="actions-panel">
            <h3>⚙️ Actions</h3>
            <div class="actions-grid">
                <button class="btn" onclick="saveTheme()">💾 Save Theme</button>
                <button class="btn btn-success" onclick="previewStore()">🛍️ Preview Store</button>
                <button class="btn btn-warning" onclick="previewLanding()">🏠 Preview Landing</button>
                <button class="btn btn-secondary" onclick="exportTheme()">📤 Export Theme</button>
                <button class="btn" onclick="importTheme()">📥 Import Theme</button>
                <button class="btn btn-danger" onclick="resetTheme()">🔄 Reset</button>
            </div>
        </div>
    </div>

    <script>
        let currentTheme = {
            colors: {
                primary: '#3b82f6',
                secondary: '#10b981',
                accent: '#f59e0b',
                background: '#ffffff',
                text: '#1f2937'
            },
            typography: {
                fontFamily: '"Inter", sans-serif',
                headingSize: '2.5rem',
                bodySize: '1rem'
            },
            branding: {
                logoUrl: '',
                schoolName: 'Your School Name',
                teamName: 'Your Team Name',
                heroImage: ''
            },
            cta: {
                primary: 'Shop Now',
                secondary: 'Donate',
                buttonStyle: 'rounded',
                buttonSize: 'medium'
            },
            layout: {
                headerStyle: 'centered',
                productColumns: 3,
                showPrices: true,
                showCartButtons: true
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            updateTheme();
        });

        function loadTheme() {
            const saved = localStorage.getItem('storeTheme');
            if (saved) {
                currentTheme = { ...currentTheme, ...JSON.parse(saved) };
            }
            
            // Update form inputs
            document.getElementById('primaryColor').value = currentTheme.colors.primary;
            document.getElementById('primaryColorText').value = currentTheme.colors.primary;
            document.getElementById('secondaryColor').value = currentTheme.colors.secondary;
            document.getElementById('secondaryColorText').value = currentTheme.colors.secondary;
            document.getElementById('accentColor').value = currentTheme.colors.accent;
            document.getElementById('accentColorText').value = currentTheme.colors.accent;
            document.getElementById('backgroundColor').value = currentTheme.colors.background;
            document.getElementById('backgroundColorText').value = currentTheme.colors.background;
            document.getElementById('textColor').value = currentTheme.colors.text;
            document.getElementById('textColorText').value = currentTheme.colors.text;
            
            document.getElementById('fontFamily').value = currentTheme.typography.fontFamily;
            document.getElementById('headingSize').value = currentTheme.typography.headingSize;
            document.getElementById('bodySize').value = currentTheme.typography.bodySize;
            
            document.getElementById('logoUrl').value = currentTheme.branding.logoUrl;
            document.getElementById('schoolName').value = currentTheme.branding.schoolName;
            document.getElementById('teamName').value = currentTheme.branding.teamName;
            document.getElementById('heroImage').value = currentTheme.branding.heroImage;
            
            document.getElementById('primaryCTA').value = currentTheme.cta.primary;
            document.getElementById('secondaryCTA').value = currentTheme.cta.secondary;
            document.getElementById('buttonStyle').value = currentTheme.cta.buttonStyle;
            document.getElementById('buttonSize').value = currentTheme.cta.buttonSize;
            
            document.getElementById('headerStyle').value = currentTheme.layout.headerStyle;
            document.getElementById('productColumns').value = currentTheme.layout.productColumns;
            document.getElementById('showPrices').value = currentTheme.layout.showPrices;
            document.getElementById('showCartButtons').value = currentTheme.layout.showCartButtons;
        }

        function updateTheme() {
            // Update theme object
            currentTheme.colors.primary = document.getElementById('primaryColor').value;
            currentTheme.colors.secondary = document.getElementById('secondaryColor').value;
            currentTheme.colors.accent = document.getElementById('accentColor').value;
            currentTheme.colors.background = document.getElementById('backgroundColor').value;
            currentTheme.colors.text = document.getElementById('textColor').value;
            
            currentTheme.typography.fontFamily = document.getElementById('fontFamily').value;
            currentTheme.typography.headingSize = document.getElementById('headingSize').value;
            currentTheme.typography.bodySize = document.getElementById('bodySize').value;
            
            currentTheme.branding.logoUrl = document.getElementById('logoUrl').value;
            currentTheme.branding.schoolName = document.getElementById('schoolName').value;
            currentTheme.branding.teamName = document.getElementById('teamName').value;
            currentTheme.branding.heroImage = document.getElementById('heroImage').value;
            
            currentTheme.cta.primary = document.getElementById('primaryCTA').value;
            currentTheme.cta.secondary = document.getElementById('secondaryCTA').value;
            currentTheme.cta.buttonStyle = document.getElementById('buttonStyle').value;
            currentTheme.cta.buttonSize = document.getElementById('buttonSize').value;
            
            currentTheme.layout.headerStyle = document.getElementById('headerStyle').value;
            currentTheme.layout.productColumns = document.getElementById('productColumns').value;
            currentTheme.layout.showPrices = document.getElementById('showPrices').value === 'true';
            currentTheme.layout.showCartButtons = document.getElementById('showCartButtons').value === 'true';
            
            // Update preview
            updatePreview();
        }

        function updatePreview() {
            const container = document.getElementById('previewContainer');
            const borderRadius = currentTheme.cta.buttonStyle === 'rounded' ? '8px' : 
                               currentTheme.cta.buttonStyle === 'pill' ? '25px' : '4px';
            
            const buttonPadding = currentTheme.cta.buttonSize === 'small' ? '8px 16px' :
                                 currentTheme.cta.buttonSize === 'medium' ? '12px 24px' :
                                 currentTheme.cta.buttonSize === 'large' ? '16px 32px' : '20px 40px';
            
            const heroStyle = currentTheme.branding.heroImage ? 
                `background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('${currentTheme.branding.heroImage}'); background-size: cover; background-position: center;` :
                `background: linear-gradient(135deg, ${currentTheme.colors.primary}, ${currentTheme.colors.secondary});`;
            
            container.innerHTML = `
                <div class="preview-header" style="background: ${currentTheme.colors.background}; color: ${currentTheme.colors.text}; font-family: ${currentTheme.typography.fontFamily};">
                    ${currentTheme.branding.logoUrl ? `<img src="${currentTheme.branding.logoUrl}" alt="Logo" class="preview-logo">` : ''}
                    <h1 style="font-size: ${currentTheme.typography.headingSize}; color: ${currentTheme.colors.text};">${currentTheme.branding.schoolName}</h1>
                    <h2 style="font-size: ${currentTheme.typography.headingSize}; color: ${currentTheme.colors.primary};">${currentTheme.branding.teamName}</h2>
                </div>
                
                <div class="preview-hero" style="${heroStyle}">
                    <h1 style="font-size: ${currentTheme.typography.headingSize}; font-family: ${currentTheme.typography.fontFamily};">Support ${currentTheme.branding.teamName}</h1>
                    <p style="font-size: ${currentTheme.typography.bodySize}; font-family: ${currentTheme.typography.fontFamily};">Show your team spirit with official merchandise and support our program</p>
                </div>
                
                <div class="preview-cta-buttons">
                    <button class="preview-btn preview-btn-primary" style="background: linear-gradient(135deg, ${currentTheme.colors.primary}, ${currentTheme.colors.secondary}); border-radius: ${borderRadius}; padding: ${buttonPadding}; font-family: ${currentTheme.typography.fontFamily};">
                        ${currentTheme.cta.primary}
                    </button>
                    <button class="preview-btn preview-btn-secondary" style="background: linear-gradient(135deg, ${currentTheme.colors.accent}, #d97706); border-radius: ${borderRadius}; padding: ${buttonPadding}; font-family: ${currentTheme.typography.fontFamily};">
                        ${currentTheme.cta.secondary}
                    </button>
                </div>
                
                <div class="preview-products" style="grid-template-columns: repeat(${currentTheme.layout.productColumns}, 1fr);">
                    <div class="preview-product" style="background: ${currentTheme.colors.background}; border-color: ${currentTheme.colors.primary};">
                        <img src="https://via.placeholder.com/200x150/3b82f6/ffffff?text=Product+1" alt="Product 1">
                        <h4 style="color: ${currentTheme.colors.text}; font-family: ${currentTheme.typography.fontFamily};">Team Jersey</h4>
                        ${currentTheme.layout.showPrices ? `<div class="price" style="color: ${currentTheme.colors.secondary};">$25.99</div>` : ''}
                        ${currentTheme.layout.showCartButtons ? `<button class="btn" style="background: ${currentTheme.colors.primary}; border-radius: ${borderRadius}; padding: ${buttonPadding}; font-family: ${currentTheme.typography.fontFamily};">Add to Cart</button>` : ''}
                    </div>
                    <div class="preview-product" style="background: ${currentTheme.colors.background}; border-color: ${currentTheme.colors.primary};">
                        <img src="https://via.placeholder.com/200x150/10b981/ffffff?text=Product+2" alt="Product 2">
                        <h4 style="color: ${currentTheme.colors.text}; font-family: ${currentTheme.typography.fontFamily};">Team Hat</h4>
                        ${currentTheme.layout.showPrices ? `<div class="price" style="color: ${currentTheme.colors.secondary};">$15.99</div>` : ''}
                        ${currentTheme.layout.showCartButtons ? `<button class="btn" style="background: ${currentTheme.colors.primary}; border-radius: ${borderRadius}; padding: ${buttonPadding}; font-family: ${currentTheme.typography.fontFamily};">Add to Cart</button>` : ''}
                    </div>
                    <div class="preview-product" style="background: ${currentTheme.colors.background}; border-color: ${currentTheme.colors.primary};">
                        <img src="https://via.placeholder.com/200x150/f59e0b/ffffff?text=Product+3" alt="Product 3">
                        <h4 style="color: ${currentTheme.colors.text}; font-family: ${currentTheme.typography.fontFamily};">Team Mug</h4>
                        ${currentTheme.layout.showPrices ? `<div class="price" style="color: ${currentTheme.colors.secondary};">$12.99</div>` : ''}
                        ${currentTheme.layout.showCartButtons ? `<button class="btn" style="background: ${currentTheme.colors.primary}; border-radius: ${borderRadius}; padding: ${buttonPadding}; font-family: ${currentTheme.typography.fontFamily};">Add to Cart</button>` : ''}
                    </div>
                </div>
            `;
        }

        function saveTheme() {
            localStorage.setItem('storeTheme', JSON.stringify(currentTheme));
            alert('Theme saved successfully!');
        }

        function previewStore() {
            // Open store preview in new window
            const storeUrl = `/team-store/1?theme=${encodeURIComponent(JSON.stringify(currentTheme))}`;
            window.open(storeUrl, '_blank');
        }

        function previewLanding() {
            // Open landing page preview in new window
            const landingUrl = `/team-landing/1?theme=${encodeURIComponent(JSON.stringify(currentTheme))}`;
            window.open(landingUrl, '_blank');
        }

        function exportTheme() {
            const themeJson = JSON.stringify(currentTheme, null, 2);
            const blob = new Blob([themeJson], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'store-theme.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function importTheme() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const importedTheme = JSON.parse(e.target.result);
                            currentTheme = { ...currentTheme, ...importedTheme };
                            loadTheme();
                            updateTheme();
                            alert('Theme imported successfully!');
                        } catch (error) {
                            alert('Invalid theme file!');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        function resetTheme() {
            if (confirm('Are you sure you want to reset to default theme?')) {
                localStorage.removeItem('storeTheme');
                currentTheme = {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#f59e0b',
                        background: '#ffffff',
                        text: '#1f2937'
                    },
                    typography: {
                        fontFamily: '"Inter", sans-serif',
                        headingSize: '2.5rem',
                        bodySize: '1rem'
                    },
                    branding: {
                        logoUrl: '',
                        schoolName: 'Your School Name',
                        teamName: 'Your Team Name',
                        heroImage: ''
                    },
                    cta: {
                        primary: 'Shop Now',
                        secondary: 'Donate',
                        buttonStyle: 'rounded',
                        buttonSize: 'medium'
                    },
                    layout: {
                        headerStyle: 'centered',
                        productColumns: 3,
                        showPrices: true,
                        showCartButtons: true
                    }
                };
                loadTheme();
                updateTheme();
            }
        }
    </script>
</body>
</html>
